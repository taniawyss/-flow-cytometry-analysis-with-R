
In this section, you will find the R code that we will use during the course. We will explain the code and output during correction of the exercises.

<!-- This is commented text -->

## Let's practice 11 - R markdown

If a data analysis project involves many steps and generation of various plots, one easy and very practical way to bundle and organize all steps of analysis together is to use R markdown files to generate PDF or html reports. These reports both display the R code used as well as the output generated, such as graphics, tables, statistical test results, ...

The difference between an R script and an R markdown file is that the code is organized within chunks in the R markdown file. In between the chunks, the user can write text that contains information about the analysis, package versions, links to websites, etc.

To create an R markdown file, go to File > New File > R markdown. Add a name.
This will create a new file that already has some example content. As you can see, the R code is organized in chunks highlighed in grey, with details written as free text in between the chunks. 
We can see that the pound sign (#) is used outside of the R code chunks. In this case, the # symbol does not correspond to a comment, but will indicate header levels for the titles and subtitles within your final document obtained after report generation.

Once the Rmd is ready, the report can be generated by hitting the "Knit" button at the top of the window. 
<figure>
  <img src="../../assets/images/example_Rmd.png" width="800"/>
</figure>


The example Rmd generates the following html report (saved in the same folder as the Rmd file by default), that shows both the code and the resulting output:
<figure>
  <img src="../../assets/images/example_html.png" width="800"/>
</figure>


You can find a short video that introduces some of the principles of R markdown on [Youtube](https://www.youtube.com/watch?v=2YZSDGGoQzQ), from the beginning up to minute 23:30. Starting at minute 23:30, this video also introduces ggplot2.

If you would like to practice creating your own R markdown, modify the one that is generated with the example content when you select File > New File > R Markdown.

1) Create a new Rmd file with the following options at the top (in the top YAML instructions within the 2 dash sequences "- - -")

* Title: «Let’s practice»
* Author: your name
* Select the «use current date when rendering object» option
* Default output format: HTML

2) We will perform a small flow cytometry analysis pipeline, but this time by creating a report:
Within an R code chunk, import the data. Change the chunk options so that code will not appear in the output.

Then, create a new code chunk for each plot. Make sure the plot is centered.
Add a header (preceded by the # symbols outside of the code chunks) before each plot with some suggestive plot title.

3) Save the Rmd file and produce the html document by «knitting» it.

[Download solution Rmd file](../../assets/scripts/R_practice_Rmd_solution.Rmd){: .md-button }

For tweaking your reports, such as chosing different output formats, or hiding or showing the code within the report, we recommend that you consult the R markdown documentation provided in this [Definite guide eBook](https://bookdown.org/yihui/rmarkdown/).

Another useful resource is [RStudio's R Markdown tutorial](https://rmarkdown.rstudio.com/lesson-1.html). 


## Let's practice - R markdown bis

Create an R markdown file and knit to an html report the flow cytometry data analysis performed in Exercise number 9. 
Proceed similarly, creating a code chunk where you load the libraries, import and pre-process the data, and create a separate code chunk for every plot.

[Download solution Rmd file](../../assets/scripts/R_practice_Rmdbis_solution.Rmd){: .md-button }









